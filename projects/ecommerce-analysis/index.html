<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-Commerce Data Analysis Project</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0; padding: 0;
      background: #f9fafc; color: #333;
    }
    header {
      background: linear-gradient(135deg, #004080, #0066cc);
      color: white; padding: 40px; text-align: center;
    }
    h1 { margin: 0; font-size: 2.2rem; }
    h2 { color: #004080; margin-top: 40px; font-size: 1.6rem; }
    section { max-width: 1000px; margin: auto; padding: 20px; }
    p { line-height: 1.6; color: #444; }
    ul { line-height: 1.8; }
    
    /* Buttons */
    a.button, button.toggle {
      display: inline-block;
      background: #004080;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      margin: 6px 0;
      transition: background 0.3s;
      font-size: 0.95rem;
      cursor: pointer;
      border: none;
    }
    a.button:hover, button.toggle:hover { background: #0066cc; }

    /* Highlight Box */
    .highlight {
      background: #e6f0ff;
      padding: 15px;
      border-left: 5px solid #004080;
      border-radius: 5px;
      margin: 20px 0;
    }

    /* Images */
    .zoomable img {
      border-radius: 8px;
      transition: transform 0.2s;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .zoomable img:hover { transform: scale(1.05); }

    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease-in-out;
    }
    .lightbox img {
      max-width: 90%; max-height: 80%;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(255,255,255,0.3);
    }
    .lightbox:target { display: flex; }
    .close {
      position: absolute;
      top: 20px; right: 30px;
      font-size: 35px; color: white;
      text-decoration: none; font-weight: bold;
    }
    .close:hover { color: #ccc; }
    @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }

    /* Collapsible Code Viewer */
    .code-box {
      max-height: 0;
      overflow: hidden;
      background: #1e1e1e;
      color: #d4d4d4;
      font-family: Consolas, monospace;
      font-size: 0.9rem;
      line-height: 1.4;
      padding: 0;
      margin: 10px 0 20px;
      border-radius: 6px;
      transition: max-height 0.4s ease, padding 0.3s;
    }
    .code-box.open {
      max-height: 400px;
      padding: 15px;
      overflow-y: auto;
    }
    .code-box::-webkit-scrollbar { width: 8px; }
    .code-box::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
  </style>
</head>
<body>

<header>
  <h1>ðŸ“¦ E-Commerce Data Analysis</h1>
  <p>End-to-end analytics project using MySQL, Python, and Power BI to uncover customer, sales, and payment insights.</p>
</header>

<section>
  <p style="text-align:center; max-width: 800px; margin: 10px auto; color: #555;">
    Explore an end-to-end E-commerce analytics project featuring database design, ETL workflows, and dashboard visualizationsâ€”crafted using MySQL, Python, and Power BI.
  </p>

  <h2>1. Project Overview</h2>
  <p class="highlight">
    This project analyzes an e-commerce dataset to identify trends, customer behavior, and sales performance.
    The workflow includes:<br>
    - Data storage & querying in MySQL<br>
    - Data cleaning & transformation with Python (SQLAlchemy, Pandas, Matplotlib)<br>
    - Visualization and dashboard creation in Power BI
  </p>

  <h2>2. Database Schema</h2>
  <p>The database contains five main tables: <code>customers</code>, <code>orders</code>, <code>order_items</code>, <code>payments</code>, and <code>products</code>.</p>
  <div class="zoomable">
    <a href="#img1"><img src="Schema_diagram.png" alt="Database Schema Diagram" /></a>
  </div>

  <h2>3. Power BI Dashboard</h2>
  <p>Dashboard screenshots highlighting KPIs like total sales, top products, customer distribution, and payment trends.</p>
  <div class="zoomable" style="display: flex; gap: 20px; flex-wrap: wrap;">
    <a href="#img2"><img src="Page1.png" alt="Dashboard Page 1" width="300"></a>
    <a href="#img3"><img src="Page2.png" alt="Dashboard Page 2" width="300"></a>
    <a href="#img4"><img src="Page3.png" alt="Dashboard Page 3" width="300"></a>
  </div>

  <h2>4. Key Insights</h2>
  <ul>
    <li>Sales peak during holiday seasons with noticeable spikes in Q4.</li>
    <li>Top 10 customers contribute to over 40% of total revenue.</li>
    <li>Credit card payments dominate with 75% usage.</li>
    <li>Average delivery time is 12 days, with delays linked to specific regions.</li>
  </ul>

  <h2>5. Project Files</h2>
  <p>Click below to preview project files directly here:</p>
  <ul>
    <li>
      <button class="toggle" onclick="toggleBox('sql1')">ðŸ—„ View Table Creation SQL</button>
      <div id="sql1" class="code-box">
        <pre>
-- Example (first few lines from Table Creation.sql)
CREATE TABLE customers (
  customer_id VARCHAR(50) PRIMARY KEY,
  customer_unique_id VARCHAR(50),
  customer_zip_code VARCHAR(20),
  customer_city VARCHAR(50),
  customer_state VARCHAR(5)
);
        </pre>
      </div>
    </li>
    <li>
      <button class="toggle" onclick="toggleBox('sql2')">ðŸ“¥ View Table Import SQL</button>
      <div id="sql2" class="code-box">
        <pre>
-- Example (snippet from Table Import.sql)
LOAD DATA INFILE 'customers.csv'
INTO TABLE customers
FIELDS TERMINATED BY ',' 
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS;
        </pre>
      </div>
    </li>
    <li>
      <button class="toggle" onclick="toggleBox('csv1')">ðŸ“„ View Customers CSV (Sample)</button>
      <div id="csv1" class="code-box">
        <pre>
customer_id,customer_unique_id,customer_zip_code,customer_city,customer_state
C001,U001,12345,New York,NY
C002,U002,54321,Chicago,IL
C003,U003,67890,San Francisco,CA
        </pre>
      </div>
    </li>
    <li>
      <button class="toggle" onclick="toggleBox('nb')">ðŸ““ View Python Notebook (Snippet)</button>
      <div id="nb" class="code-box">
        <pre>
# Importing required libraries
import pandas as pd
from sqlalchemy import create_engine

# Connecting to database
engine = create_engine("mysql+pymysql://root:password@localhost/ecommerce")
df = pd.read_sql("SELECT * FROM orders", engine)
df.head()
        </pre>
      </div>
    </li>
  </ul>

  <p><a href="../../index.html" class="button">â¬… Back to Portfolio</a></p>
</section>

<!-- Lightbox Images -->
<div id="img1" class="lightbox"><a href="#" class="close">&times;</a><img src="Schema_diagram.png" alt="Database Schema Diagram"></div>
<div id="img2" class="lightbox"><a href="#" class="close">&times;</a><img src="Page1.png" alt="Dashboard Page 1"></div>
<div id="img3" class="lightbox"><a href="#" class="close">&times;</a><img src="Page2.png" alt="Dashboard Page 2"></div>
<div id="img4" class="lightbox"><a href="#" class="close">&times;</a><img src="Page3.png" alt="Dashboard Page 3"></div>

<script>
  function toggleBox(id) {
    const box = document.getElementById(id);
    box.classList.toggle("open");
  }
</script>

</body>
</html>
